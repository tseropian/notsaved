{{ define "main" }}
<!-- Archive page with all posts grouped by year -->
  <h1>Archive</h1>

  <div class="archive-container">
    {{ $pages := where site.RegularPages "Type" "in" site.Params.mainSections }}
    {{ range ($pages.GroupByDate "2006") }}
      <div class="archive-year-section">
        <h2 class="archive-year">{{ .Key }}</h2>
        <ul class="archives-list">
          {{ range .Pages }}
            <li class="archives-list-item">
              <time class="archives-list-item-date" datetime="{{ .PublishDate.Format "2006-01-02" }}">
                {{ .PublishDate.Format "Jan 02" }}
              </time>
              <a href="{{ .RelPermalink }}" class="archives-list-item-title">{{ .Title }}</a>
            </li>
          {{ end }}
        </ul>
      </div>
    {{ end }}
  </div>

  <div class="page-footer"></div>

{{ end }}